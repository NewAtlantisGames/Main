
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>【译】Unity 制作 2D 飞行射击游戏 [5/10] | NewAtlantisGames</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Lei Lavas">
    

    
    <meta name="description" content="射击（2/2）
原文链接：http://pixelnest.io/tutorials/2d-game-unity/shooting-2/
我们的酷炫飞船现在正常向无辜的章鱼倾泄子弹。
我们不能这样。章鱼们需要反击才对，为了自由而战……说多了，不好意思。
用到我们在上一章中所做的，我们将要修改敌人的行为以使它们也能够射击。
敌人的子弹  我们将使用下图的精灵来作为敌人的子弹：（点击鼠标右键保存图片）">
<meta property="og:type" content="article">
<meta property="og:title" content="【译】Unity 制作 2D 飞行射击游戏 [5/10]">
<meta property="og:url" content="http://www.newatlantisgames.net/2015/09/25/undefined/undefined/undefined/Unity制作2D飞行射击游戏 - 5/index.html">
<meta property="og:site_name" content="NewAtlantisGames">
<meta property="og:description" content="射击（2/2）
原文链接：http://pixelnest.io/tutorials/2d-game-unity/shooting-2/
我们的酷炫飞船现在正常向无辜的章鱼倾泄子弹。
我们不能这样。章鱼们需要反击才对，为了自由而战……说多了，不好意思。
用到我们在上一章中所做的，我们将要修改敌人的行为以使它们也能够射击。
敌人的子弹  我们将使用下图的精灵来作为敌人的子弹：（点击鼠标右键保存图片）">
<meta property="og:image" content="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/shot_poulpi.png">
<meta property="og:image" content="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/shot_config2.png">
<meta property="og:image" content="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/enemy_config.png">
<meta property="og:image" content="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/shoot_right.gif">
<meta property="og:image" content="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/gizmo2.png">
<meta property="og:image" content="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/enemy_full_config.png">
<meta property="og:image" content="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/shoot_ok.gif">
<meta property="og:image" content="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/shoot_two_dir.gif">
<meta property="og:image" content="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/player_no_enemy.png">
<meta property="og:image" content="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/player_die.gif">
<meta property="og:image" content="http://pixelnest.io/work/bulletml-for-unity/-img/screenshot2.png">
<meta property="og:image" content="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/result.png">
<meta property="og:updated_time" content="2015-09-25T07:24:51.079Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="【译】Unity 制作 2D 飞行射击游戏 [5/10]">
<meta name="twitter:description" content="射击（2/2）
原文链接：http://pixelnest.io/tutorials/2d-game-unity/shooting-2/
我们的酷炫飞船现在正常向无辜的章鱼倾泄子弹。
我们不能这样。章鱼们需要反击才对，为了自由而战……说多了，不好意思。
用到我们在上一章中所做的，我们将要修改敌人的行为以使它们也能够射击。
敌人的子弹  我们将使用下图的精灵来作为敌人的子弹：（点击鼠标右键保存图片）">

    
    <link rel="alternative" href="/atom.xml" title="NewAtlantisGames" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/icon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/grouplogo.png">
    <link rel="apple-touch-icon-precomposed" href="/img/grouplogo.png">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">
    
<script type="text/javascript">
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?12e16f3e220c8c67d78c205dc4eca514";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="NewAtlantisGames" title="NewAtlantisGames"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="NewAtlantisGames">NewAtlantisGames</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">首页</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:www.newatlantisgames.net">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/09/25/undefined/undefined/undefined/Unity制作2D飞行射击游戏 - 5/" title="【译】Unity 制作 2D 飞行射击游戏 [5/10]" itemprop="url">【译】Unity 制作 2D 飞行射击游戏 [5/10]</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Lei Lavas" target="_blank" itemprop="author">Lei Lavas</a>
		
  <p class="article-time">
    <time datetime="2015-09-25T01:16:40.000Z" itemprop="datePublished"> 发表于 2015-09-25</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#敌人的子弹"><span class="toc-number">1.</span> <span class="toc-text">敌人的子弹 </span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#开火"><span class="toc-number">2.</span> <span class="toc-text">开火 </span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#新的脚本和方法"><span class="toc-number">2.1.</span> <span class="toc-text">新的脚本和方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#向任意方向射击"><span class="toc-number">2.2.</span> <span class="toc-text">向任意方向射击 </span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#猎杀主角"><span class="toc-number">3.</span> <span class="toc-text">猎杀主角 </span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#附加内容"><span class="toc-number">4.</span> <span class="toc-text">附加内容 </span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#主角和敌人的碰撞"><span class="toc-number">4.1.</span> <span class="toc-text">主角和敌人的碰撞 </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#弹幕池"><span class="toc-number">4.2.</span> <span class="toc-text">弹幕池 </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#子弹的行为"><span class="toc-number">4.3.</span> <span class="toc-text">子弹的行为 </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#射击延时"><span class="toc-number">4.4.</span> <span class="toc-text">射击延时 </span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#下一步"><span class="toc-number">5.</span> <span class="toc-text">下一步 </span></a></li></ol>
		
		</div>
		
		<p><span style="color:#2ca6cb; font-size:32px">射击（2/2）</span></p>
<p><strong><span style="color:black; font-size:17px">原文链接：<a href="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/" target="_blank" rel="external">http://pixelnest.io/tutorials/2d-game-unity/shooting-2/</a></span></strong></p>
<p>我们的酷炫飞船现在正常向无辜的章鱼倾泄子弹。</p>
<p>我们不能这样。章鱼们需要反击才对，为了自由而战……说多了，不好意思。</p>
<p>用到我们在上一章中所做的，我们将要修改敌人的行为以使它们也能够射击。</p>
<h1 id="敌人的子弹">敌人的子弹 </h1><p> 我们将使用下图的精灵来作为敌人的子弹：<br><img src="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/shot_poulpi.png"><br><em>（点击鼠标右键保存图片）</em></p>
<p>如果你像我一样懒的话，就把 “PlayerShot” 的预设复制一份，并重命名为 “EnemyShot1”，然后将精灵替换为上面的图片。</p>
<p>要复制精灵，你可以先把预设拖拽到场景（Scene）窗口中以创建一个实体，然后重命名这个实体，最后把这个实体保存为预设。</p>
<p><strong><div style="background-color:#8bd259; padding:17px;">或者你可以直接在 <span style="background-color:#FFFFFF">Prefab</span> 文件夹中通过快捷键 <span style="background-color:#FFFFFF">ctrl + D</span>（Windows） 或 <span style="background-color:#FFFFFF">cmd + D</span>（OS X） 来快速复制一个预设。<br>如果你不想复制，那么就重新创建一个精灵吧，然后添加刚体、碰撞盒等等。</div></strong></p>
<p>子弹精灵正确的缩放尺寸为 <span style="background-color:#d9d9d9">(0.35, 0.35, 1)</span>。</p>
<p>你目前所做的应该如下图所示：<br><img src="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/shot_config2.png"></p>
<p>如果你点击 “Play” 按钮运行游戏，子弹很可能会移动并消灭敌人自己。这是因为脚本 “ShotScript” 中的属性设置（默认是会对章鱼造成伤害）。</p>
<p>不用修改它们。还记得上一章中的 “WeaponScript” 脚本吗？它将会正确的设置这些属性值的。</p>
<p>现在我们已经有了 “EnemyShot1” 的预设了，所以就将场景内的实体都移除吧。</p>
<h1 id="开火">开火 </h1><p> 就像我们为主角所做的一样，我们需要在敌人上也添加一个武器并且让它能调用 Attack() 方法，这样它也能生成子弹了。</p>
<h2 id="新的脚本和方法">新的脚本和方法</h2><ol>
<li>为敌人添加脚本 “WeaponScript”。</li>
<li>将预设 “EnemyShot1” 拖拽至脚本的 “Shot Prefab” 变量上。</li>
<li><p>创建一个名为 “EnemyScript” 的脚本。它会自动的在每一帧触发武器。</p>
<pre><code><span class="keyword">using</span> UnityEngine;

<span class="comment"><span class="xmlDocTag">///</span> <span class="xmlDocTag">&lt;summary&gt;</span></span>
<span class="comment"><span class="xmlDocTag">///</span> Enemy generic behavior</span>
<span class="comment"><span class="xmlDocTag">///</span> 敌人的一般行为</span>
<span class="comment"><span class="xmlDocTag">///</span> <span class="xmlDocTag">&lt;/summary&gt;</span></span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title">EnemyScript</span> : <span class="title">MonoBehaviour</span>
{<span class="keyword">private</span> WeaponScript weapon;

  <span class="function"><span class="keyword">void</span> <span class="title">Awake</span>(<span class="params"></span>)
  </span>{<span class="comment">// Retrieve the weapon only once</span>
    <span class="comment">// 取到武器对象</span>
    weapon = GetComponent&lt;WeaponScript&gt;();}

  <span class="function"><span class="keyword">void</span> <span class="title">Update</span>(<span class="params"></span>)
  </span>{<span class="comment">// Auto-fire</span>
    <span class="comment">// 自动开火</span>
    <span class="keyword">if</span> (weapon != <span class="keyword">null</span> &amp;&amp; weapon.CanAttack)
    {weapon.Attack(<span class="keyword">true</span>);
    }
  }
}
</code></pre></li>
</ol>
<p>将此脚本附加到敌人上。</p>
<p>你的设置中下图所示（你应该观察到射击频率值被略微上调至 0.75）：<br><img src="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/enemy_config.png"><br><strong><div style="background-color:#73c1ec; padding:17px;"><span style="color:#FFFFFF">请记住：</span>如果你调整过场景中的游戏对象，一定记的要点击“检视（Inspector）”面板中的 “Apple” 按钮，这样才会把你所做的修改应用到 <span style="background-color:#FFFFFF"> 预设</span> 上。</div></strong></p>
<p>试着运行游戏看看！<br><img src="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/shoot_right.gif"></p>
<p>OK，看起来算是运行正常吧。章鱼的武器向右发射，因为我们就是这么设定的。</p>
<p>如果你将章鱼转上 180 度，虽然能让子弹向左发射，呃……同时章鱼也四脚朝天了。这可不是我们想要的效果。<br><img src="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/gizmo2.png"></p>
<p>图上这是啥？！很明显，我们由于一些原因犯了这个错误。</p>
<h2 id="向任意方向射击">向任意方向射击 </h2><p> 脚本 “WeaponScript” 被创建时有这样一个特性：你可通过简单的旋转附加此脚本的游戏对象，来修改子弹发射的方向。当我们旋转敌人精灵时印证了这一点。</p>
<p>解决这个问题的小技巧就是，创建一个空的游戏对象，然后把这个空的游戏对象添加为敌人预设的子游戏对象。</p>
<p>我们需要：</p>
<ol>
<li>创建一个 “Empty Game Object”。将其命名为 “WeaponObject” 。</li>
<li>删除附加在敌人预设上的 “WeaponScript” 脚本。</li>
<li>在 “WeaponObject” 对象上附加 “WeaponScript” 并且就像你之前做的，为其指定一个子弹预设。</li>
<li>旋转 “WeaponObject” 为 <span style="background-color:#d9d9d9">(0, 0, 180)</span> 。</li>
</ol>
<p>如果你是在一个游戏实例上做的这些，那么千万别忘了点击 “Apply” 按钮来将这些修改应用到预设上。</p>
<p>如下图所示：<br><img src="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/enemy_full_config.png"></p>
<p>除此之外，我们还得在 “EnemyScript” 脚本上做一点小小的修改。</p>
<p>在当前的状态下，”EnemyScript” 脚本调用方法 <span style="background-color:#d9d9d9">GetComponent &lt;WeaponScript&gt; ()</span> 后只会返回空值。确实，”WeaponScript” 已经不再附加在原先的对象上了。</p>
<p>幸运的是，Unity 提供了一个能在子对象层级下查找指定游戏对象的方法：<span style="background-color:#d9d9d9">GetComponentInChildren &lt;Type&gt; ()</span> 。</p>
<p><strong><div style="background-color:#73c1ec; padding:17px;"><span style="color:#FFFFFF">注意：</span>就像 <span style="background-color:#FFFFFF">GetComponent &lt;&gt; ()</span>，<span style="background-color:#FFFFFF">GetComponentInChildren &lt;&gt; ()</span> 同样也有复数形式的方法：<span style="background-color:#FFFFFF">GetComponentsInChildren &lt;Type&gt; ()</span>。注意在 “Component” 后面的 <span style="background-color:#FFFFFF">s</span> 。此方法返回一个指定类型组件的数组列表。</div></strong></p>
<p>事实上，只是为了有趣，我们下面提供了一个控制多个武器的方法。我们将操控一个列表中的每个组件，而不是单单操控一个组件。</p>
<p>请看完整的脚本 “EnemyScript” ：</p>
<pre><code><span class="keyword">using</span> System.Collections.Generic;
<span class="keyword">using</span> UnityEngine;

<span class="comment"><span class="xmlDocTag">///</span> <span class="xmlDocTag">&lt;summary&gt;</span></span>
<span class="comment"><span class="xmlDocTag">///</span> Enemy generic behavior</span>
<span class="comment"><span class="xmlDocTag">///</span> 敌人的一般行为</span>
<span class="comment"><span class="xmlDocTag">///</span> <span class="xmlDocTag">&lt;/summary&gt;</span></span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title">EnemyScript</span> : <span class="title">MonoBehaviour</span>
{<span class="keyword">private</span> WeaponScript[] weapons;

  <span class="function"><span class="keyword">void</span> <span class="title">Awake</span>(<span class="params"></span>)
  </span>{<span class="comment">// Retrieve the weapon only once</span>
    <span class="comment">// 取到武器对象</span>
    weapons = GetComponentsInChildren&lt;WeaponScript&gt;();}

  <span class="function"><span class="keyword">void</span> <span class="title">Update</span>(<span class="params"></span>)
  </span>{<span class="keyword">foreach</span> (WeaponScript weapon <span class="keyword">in</span> weapons)
    {<span class="comment">// Auto-fire</span>
      <span class="comment">// 自动开火</span>
      <span class="keyword">if</span> (weapon != <span class="keyword">null</span> &amp;&amp; weapon.CanAttack)
      {weapon.Attack(<span class="keyword">true</span>);
      }
    }
  }
}
</code></pre><p>最终，调整 “EnemyShot1” 预设的脚本 “MoveScript”中的速度属性，以使子弹的速度快于章鱼的速度：<br><img src="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/shoot_ok.gif"></p>
<p>棒极了，我们现在有了超级危险的章鱼了。</p>
<p><span style="color:#878787; font-size:23px">附加内容：向两个方向射击</span></p>
<p>添加向两个方向射击只需要在编辑器中点点鼠标复制复制就行了，不包含任何的脚本：</p>
<ol>
<li>在敌人上添加另一个武器对象（复制第一个 “WeaponObject” 就可以了）。</li>
<li>改变第二个 “WeaponObject” 对象的角度。</li>
</ol>
<p>敌人现在可以向两个方向射击了。</p>
<p>下图为效果：<br><img src="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/shoot_two_dir.gif"></p>
<p>这是一个利用 Unity 特性的好例子：通过创建独立的脚本，并且将其中一些有用的变量声明为公有（Public），你可以彻底的减少编写代码的数量。<em>更少的代码意味着更少的错误</em>。</p>
<h1 id="猎杀主角">猎杀主角 </h1><p> 我们的章鱼很危险，对吧？呃，似乎不是。即使章鱼能射击了，但是还是不会伤害到主角。</p>
<p>主角还是无敌的。一点挑战也没有。</p>
<p>简单的在主角上添加一个 “HealthScript” 脚本。确保 “IsEnemy” 选项没有被勾选。<br><img src="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/player_no_enemy.png"></p>
<p>运行游戏看看有什么不同：<br><img src="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/player_die.gif"></p>
<h1 id="附加内容">附加内容 </h1><p> 我们将给你一些能让你的游戏看上去更酷的小提示。如果你对更我关于飞行射击游戏的想法不是很感兴趣的话，就跳过这部分吧。</p>
<h2 id="主角和敌人的碰撞">主角和敌人的碰撞 </h2><p> 让我们看看我们是如何处理主角和敌人之间的碰撞的吧，结果就是非常挫败的看到主角和敌人碰在一起，然后他们就那样互相挡着……挡着……</p>
<p>碰撞事件就是两个非触发器的 2D 碰撞盒交错在一起时的结果。我们需要简单地处理一下脚本 “PlayerScript” 中的 “OnCollisionEnter2D” 函数：</p>
<pre><code><span class="comment">//PlayerScript.cs</span>
<span class="comment">//....</span>

void OnCollisionEnter2D<span class="params">(Collision2D collision)</span>
  {bool damagePlayer = <span class="literal">false</span>;

    <span class="comment">// Collision with enemy</span>
    <span class="comment">// 与敌人碰撞</span>
    EnemyScript enemy = collision.gameObject.GetComponent&lt;EnemyScript&gt;<span class="params">()</span>;
    <span class="keyword">if</span> <span class="params">(enemy != null)</span>
    {<span class="comment">// Kill the enemy</span>
      <span class="comment">// 杀死敌人</span>
      HealthScript enemyHealth = enemy.GetComponent&lt;HealthScript&gt;<span class="params">()</span>;
      <span class="keyword">if</span> <span class="params">(enemyHealth != null)</span> enemyHealth.Damage<span class="params">(enemyHealth.hp)</span>;

      damagePlayer = <span class="literal">true</span>;
    }

    <span class="comment">// Damage the player</span>
    <span class="comment">// 对主角造成伤害</span>
    <span class="keyword">if</span> <span class="params">(damagePlayer)</span>
    {HealthScript playerHealth = this.GetComponent&lt;HealthScript&gt;<span class="params">()</span>;
      <span class="keyword">if</span> <span class="params">(playerHealth != null)</span> playerHealth.Damage<span class="params">(<span class="number">1</span>)</span>;
    }
  }
</code></pre><p>当发生碰撞时后，我们通过使用脚本 “HealthScript” 来对主角和敌人都造成伤害。这样做的话，与生命值 / 伤害值相关的行为就都联系在一起了。</p>
<h2 id="弹幕池">弹幕池 </h2><p> 当你进行游戏时，就会在“层级(Hierarchy)”面板中观察到子弹被创建以及在 20 秒后子弹被销毁（除非子弹打到了主角或敌人）。</p>
<p>如果你想开发一款像 <a href="http://en.wikipedia.org/wiki/Shoot_%27em_up#Bullet_hell" target="_blank" rel="external">danmaku</a> 一样有着大量弹幕的游戏，那么这个策略就不太可行了<strong>（译者注：因为同屏内大量的子弹会使游戏运行效率越来越低甚至崩溃）</strong>。</p>
<p>解决这个问题的方法之一就是使用 <em>弹幕池</em>。简单的说，你可以用一个数组来限制子弹的总体数量。当数组满后，将删除最早生成的子弹并添加最新生成的子弹。</p>
<p>我们在此处就不举例了，因为这非常的简单。我们在一个 <a href="http://dmayance.com/unity-paint-part-2/" target="_blank" rel="external"> 绘画脚本中使用了同样的方法</a>。</p>
<p>你也可以减少子弹的存在时间来让它们消失的更快些。</p>
<p><strong><div style="background-color:#f5d87d; padding:17px;"><span style="color:#FFFFFF">注意：</span>时刻记着大量使用  <span style="background-color:#FFFFFF">Instantiate</span> 方法会使游戏执行效率变低。<em>使用时一定要小心</em>。</div></strong></p>
<h2 id="子弹的行为">子弹的行为 </h2><p> 一个好的飞行射击游戏应该有让人印象深刻的战斗。</p>
<p>一些类库，像 BulletML，允许你很容易的定义一些复杂并且壮观的弹幕。<br><img src="http://pixelnest.io/work/bulletml-for-unity/-img/screenshot2.png"></p>
<p>如果你对制作一款完整的飞行射击游戏感兴趣的话，看看我们制作的 <em><a href="http://pixelnest.io/work/bulletml-for-unity/" target="_blank" rel="external">BulletMl for Unity</a></em> 插件吧。</p>
<h2 id="射击延时">射击延时 </h2><p> 在场景中添加一些有武装的敌人然后运行游戏。你应该看到敌人的射击是多么的同步啊。</p>
<p>我们要为敌人的武器添加一个简单的延时：初始化冷却时间为任意一个非 0 的值。你可以自己写一个算法或者干脆使用随机数好了。</p>
<p>敌人的速度也可以设置为随机数。</p>
<p>这里再次声明，这都取决于你，取决于你想将你的游戏玩法上升到一个什么样的高度。</p>
<h1 id="下一步">下一步 </h1><p> 我们本章学会了如何赋予敌人武器，同时也看到了重新使用一些脚本来优化游戏的玩法。</p>
<p>我们几乎完成了一款飞行射击游戏！而且公平的说，这个游戏很基础，同时也很硬核<em>（译者注：光看下面的图片就知道游戏很有挑战，不是么？）</em>。<br><img src="http://pixelnest.io/tutorials/2d-game-unity/shooting-2/-img/result.png"></p>
<p>毫不犹豫地添加敌人和武器吧，然后测试并调整游戏。</p>
<p>在下一章中，我们将学会如何通过增强游戏的背景和场景来创建一个大关卡。</p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Unity2D新手教程/">Unity2D新手教程</a>
</div>


</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://www.newatlantisgames.net/2015/09/25/undefined/undefined/undefined/Unity制作2D飞行射击游戏 - 5/" data-title="【译】Unity 制作 2D 飞行射击游戏 [5/10] | NewAtlantisGames" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2015/09/25/undefined/undefined/undefined/Unity制作2D飞行射击游戏 - 4/" title="【译】Unity 制作 2D 飞行射击游戏 [4/10]">
  <strong>上一篇：</strong><br/>
  <span>
  【译】Unity 制作 2D 飞行射击游戏 [4/10]</span>
</a>
</div>


<div class="next">
<a href="/2015/09/25/undefined/undefined/undefined/Unity制作2D飞行射击游戏 - 6/"  title="【译】Unity 制作 2D 飞行射击游戏 [6/10]">
 <strong>下一篇：</strong><br/> 
 <span>【译】Unity 制作 2D 飞行射击游戏 [6/10]
</span>
</a>
</div>

</nav>

	
<section id="comments" class="comment">
	<div class="ds-thread" data-thread-key="2015/09/25/undefined/undefined/undefined/Unity制作2D飞行射击游戏 - 5/" data-title="【译】Unity 制作 2D 飞行射击游戏 [5/10]" data-url="http://www.newatlantisgames.net/2015/09/25/undefined/undefined/undefined/Unity制作2D飞行射击游戏 - 5/"></div>
</section>


</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#敌人的子弹"><span class="toc-number">1.</span> <span class="toc-text">敌人的子弹 </span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#开火"><span class="toc-number">2.</span> <span class="toc-text">开火 </span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#新的脚本和方法"><span class="toc-number">2.1.</span> <span class="toc-text">新的脚本和方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#向任意方向射击"><span class="toc-number">2.2.</span> <span class="toc-text">向任意方向射击 </span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#猎杀主角"><span class="toc-number">3.</span> <span class="toc-text">猎杀主角 </span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#附加内容"><span class="toc-number">4.</span> <span class="toc-text">附加内容 </span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#主角和敌人的碰撞"><span class="toc-number">4.1.</span> <span class="toc-text">主角和敌人的碰撞 </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#弹幕池"><span class="toc-number">4.2.</span> <span class="toc-text">弹幕池 </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#子弹的行为"><span class="toc-number">4.3.</span> <span class="toc-text">子弹的行为 </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#射击延时"><span class="toc-number">4.4.</span> <span class="toc-text">射击延时 </span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#下一步"><span class="toc-number">5.</span> <span class="toc-text">下一步 </span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">文章分类</p>
		<ul>
		
		  
			<li><a href="/categories/Unity2D新手教程/" title="Unity2D新手教程">Unity2D新手教程<sup>12</sup></a></li>
		  
		
		</ul>
</div>


  

  <div class="linkslist">
  <p class="asidetitle">团队作品</p>
    <ul>
        
          <li>
            
            	<a href="http://android.myapp.com/myapp/detail.htm?apkName=com.newatlantis.intodark" target="_blank" title="IntoDark">IntoDark</a>
            
          </li>
        
    </ul>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> 现在不为自己一直的梦想拼博 <br/>
			以后回想起来，一定会后悔不己</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
		<a href="mailto:4newatlantis@gmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2015 
		
		<a href="/about" target="_blank" title="Lei Lavas">Lei Lavas</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>



<script type="text/javascript">
  var duoshuoQuery = {short_name:"NewAtlantisGames"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F12e16f3e220c8c67d78c205dc4eca514' type='text/javascript'%3E%3C/script%3E"));
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
